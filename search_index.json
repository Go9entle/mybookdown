[["index.html", "我的研究生课程笔记 写在前面 为什么要写课程笔记", " 我的研究生课程笔记 gogentle 2025/02/20 写在前面 R软件的bookdown扩展包是R Markdown的增强版， 支持自动目录、文献索引、公式编号与引用、定理编号与引用、图表自动编号与引用等功能， 可以作为LaTeX的一种替代解决方案， 在制作用R进行数据分析建模的技术报告时， 可以将报告文字、R程序、文字性结果、表格、图形都自动地融合在最后形成的网页或者PDF文件中。 Bookdown使用的设置比较复杂， 对初学者不够友好。 这里制作了一些模板， 用户只要解压缩打包的文件， 对某个模板进行修改填充就可以变成自己的中文图书或者论文。 Bookdown的详细用法参见https://bookdown.org/yihui/bookdown/， 本笔记的部署参考了北京大学李东风老师的的《统计软件教程》， 将bookdown部署到GitHub page上参考了R沟通|部署 bookdown 文件到 GitHub 上 需要注意的是李老师文件中的日期为中文格式，在部署到GitHub Pages上会报错，建议改为”YYYY-MM-DD”形式。 bookdown::render_book(&quot;index.Rmd&quot;, output_format=&quot;bookdown::gitbook&quot;, encoding=&quot;UTF-8&quot;) 上述命令编译为gitbook页面。 Bookdown如果输出为网页， 其中的数学公式需要MathJax程序库的支持， 用如下数学公式测试浏览器中数学公式显示是否正常： \\[ \\text{定积分} = \\int_a^b f(x) \\,dx \\] 如果显示不正常， 可以在公式上右键单击， 选择“Math Settings–Math Renderer”， 依次使用改成“Common HTML”，“SVG”等是否可以变成正常显示。 另外发现bookdown生成的网页支持公式的长度有限，所以有些公式可能无法全部展示。 为什么要写课程笔记 很遗憾本科期间没有养成多用电脑多上网的习惯，上个学期本来是新的开始却也没有好好听讲，导致没什么收获。这个学期希望通过做笔记的形式多学一点东西，虽然可能也不会有多少收获，聊以填充这略显枯燥的研究生生活吧！ "],["aboutme.html", "AboutMe", " AboutMe gogentle，As known as 涛哥, 9ZT, GZT…存在于21世纪地球村的一个人类，国籍中华人民共和国，出生并成长于山东省日照市东港区。 幼儿园毕业于日照三小幼儿园（2005-2008）中班留级一年； 小学毕业于山东省日照市实验小学（2008-2014）； 初中毕业于山东省日照市北京路中学（2014-2017）； 高中毕业于山东省日照实验高级中学（2017-2020）； 本科毕业于山东大学数学学院（2020-2024）， 现就读于中国人民大学统计学院，是一名统计学硕士生（2024-）… Email: gzt0912@foxmail.com Blog: https://go9entle.github.io(已经许久没更新) GitHub: https://github.com/Go9entle "],["rlforfin.html", "1 强化学习在金融中的应用 1.1 Markov过程", " 1 强化学习在金融中的应用 1.1 Markov过程 本书的主题是“序列不确定下的序列决策”，在本章中将暂时忽略“序列决策”方面而只关注”序列不确定性“。 1.1.1 过程中的状态概念 \\(S_t\\)是过程在时间\\(t\\)时的状态。特别地，我们对于下一时刻的状态\\(S_{t+1}\\)的概率感兴趣，如果已知现在的状态\\(S_t\\)和过去的状态\\(S_0,S_1,...,S_{t-1}\\)，我们对\\(P\\{S_{t+1}|S_t,S_{t-1},...,S_0\\}\\)感兴趣。 1.1.2 通过股票价格的例子理解Markov性 为了帮助理解，我们假设股票价格只取整数值，并且零或负股票价格是可以接受的。我们将时间\\(t\\)的股票价格表示为\\(X_t\\).假设从时间\\(t\\) 到下一个时间步骤 \\(t + 1\\),股票价格可以上涨\\(1\\)或下跌\\(1\\),即\\(X_{t+1}\\)的唯一两个结果是\\(X_t + 1\\)或\\(X_t − 1\\).要了解股票价格随时间的随机演变，我们只需要量化上涨的概率 \\(P[X_{t+1} =X_t+ 1]\\).我们将考虑股票价格演变的 3 个不同过程。 \\(P[X_{t+1}=X_t+1]=\\frac{1}{1+e^{-\\alpha_1(L-X_t)}}\\). 这意味着股票的价格倾向于均值回归(mean-reverting),均值即为参考水平\\(L,\\)拉力系数为\\(\\alpha.\\) 我们不妨设\\(S_t=X_t,\\)且可以看到下一时刻的状态\\(S_{t+1}\\)只与\\(S_t\\)有关而与\\(S_0,S_1,...,S_{t-1}\\)无关。即可写作 \\[ P[S_{t+1}|S_t,S_{t-1},...,S_0]=P[S_{t+1}|S_t]\\text{ for all }t\\geq 0. \\] 这就被成为Markov性。 书中还给出了相应的代码 from dataclasses import dataclass import numpy as np @dataclass class Process1: @dataclass class State: price: int level_param: int # level to which price mean-reverts alpha1: float = 0.25 # strength of mean-reversion (non-negative value) def up_prob(self, state: State) -&gt; float: return 1./(1+np.exp(-self.alpha1*(self.level_param-state.price))) def next_state(self, state:State) -&gt; State: up_move: int = np.random.binomial(1, self.up_prob(state),1)[0] #生成随机移动 up_move = 0 or 1 return Process1.State(price=state.price + up_move * 2 - 1) # 若up_move = 1, 则价格上升1，若为0价格下降1 接下来，我们使用 Python 的生成器功能（使用yield）编写一个简单的模拟器，如下所示： def simulation(process, start_state): state = start_state while True: yield state state = process.next_state(state) 现在我们可以使用此模拟器函数生成采样轨迹。在下面的代码中，我们从 start_price的价格\\(X_0\\)​开始，在time_steps时间步长内生成num_traces个采样轨迹。使用 Python 的生成器功能，我们可以使用itertools.islice函数“懒惰地”执行此操作。 import itertools def process1_price_traces( start_price: int, level_param: int, alpha1: float, time_steps: int, num_traces: int ) -&gt; np.ndarray: process = Process1(level_param=level_param, alpha1=alpha1) start_state = Process1.State(price=start.price) return np.vstack([ np.fromiter((s.price for s in itertools.islice( simulation(process, start_state), time_steps + 1 )), float) for _ in range(num_traces)]) \\[ P[X_{t+1}=X_t+1]=\\begin{cases} 0.5(1-\\alpha_2(X_t-X_{t-1}))&amp;\\text{ if }t&gt;0\\\\ 0.5&amp;\\text{ if }t=0 \\end{cases} \\] 其中\\(\\alpha_2\\)是一个“拉力强度”参数，取值在\\([0,1]\\)之间。这里的直觉时下一步的移动的方向偏向于前一次移动的反方向。我们注意到如果依然按照前文建模则无法满足Markov性质，因为\\(X_{t+1}\\)取值的概率不仅依赖于\\(X_t,\\)还依赖于\\(X_{t-1}.\\)不过我们可以在这里做一个小技巧，即创建一个扩展状态\\(S_t\\)由一对\\((X_t,X_{t-1})\\)组成。当\\(t=0\\)时状态\\(S_0\\)可以取值\\((X_0,null)\\),这里的null只是一个符号。通过将状态\\(S_t\\)视为\\((X_t,X_t-X_{t-1})\\)建模可以发现Markov性质得到了满足。 \\[ \\begin{aligned} &amp;P[(X_{t+1},X_{t+1}-X_t)|(X_t,X_t-X_{t-1}),...,(X_0,null)]\\\\ =&amp;P[(X_{t+1},X_{t+1}-X_t)|(X_t,X_t-X_{t-1})]\\\\ =&amp;0.5(1-\\alpha_2(X_{t+1}-X_t)(X_t-X_{t-1})) \\end{aligned} \\] 关于上面的式子deepseek给出了证明。 人们自然会想知道，为什么状态不单单由\\(X_t - X_{t-1}\\) 组成——换句话说，为什么 \\(X_t\\) 也需要作为状态的一部分。确实，单独知道\\(X_t - X_{t-1}\\)可以完全确定 \\(X_{t+1}-X_t\\)的概率。因此，如果我们将状态设定为在任意时间步 \\(t\\)仅为 \\(X_t - X_{t-1}\\)，那么我们确实会得到一个只有两个状态 +1 和 -1 的马尔可夫过程（它们之间的概率转移）。然而，这个简单的马尔可夫过程并不能通过查看时间\\(t\\)的状态 \\(X_t - X_{t-1}\\) 来告诉我们股票价格 \\(X_t\\) 的值。在这个应用中，我们不仅关心马尔可夫状态转移概率，还关心从时间 \\(t\\) 的状态中获取任意时间 \\(t\\) 的股票价格信息。因此，我们将状态建模为对 \\(( X_t, X_{t-1} )\\)。 请注意，如果我们将状态 \\(S_t\\) 建模为整个股票价格历史 \\(( X_0, X_1,..., X_t )，\\)那么马尔可夫性质将显然得到满足，将\\(S_t\\)建模为对\\((X_t,X_{t-1})\\)Markov性质也会得到满足。然而，我们选择 \\(S_t := (X_t, X_t - X_{t-1})\\) 是“最简单”的内部表示。实际上，在整本书中，我们对各种过程建模状态的努力是确保马尔可夫性质，同时使用“最简单/最小”的状态表示。 Process3是Process2的扩展，其中下一个移动的概率不仅依赖于上一时刻的移动还依赖于过去所有的移动。具体来说，它依赖于过去上涨次数的数量记为\\(U_t=\\sum_{i=1}^t\\max(X_i-X_{i-1},0)\\),与过去下跌次数的数量，记为\\(D_t=\\sum_{i=1}^t\\max(X_{i-1}-X_i,0)\\)之间的关系。表示为 \\[ P[X_{t+1}=X_t+1]=\\begin{cases} \\frac{1}{1+(\\frac{U_t+D_t}{D_t}-1)^{\\alpha_3}}&amp;\\text{ if }t&gt;0\\\\ 0.5&amp;\\text{ if }t=0 \\end{cases} \\] 其中\\(\\alpha_3\\in\\mathbb{R}_{\\geq0}\\)是一个拉力强度参数，将上述概率表达式视为\\(f(\\frac{D_t}{U_t+D_t};\\alpha_3)\\)其中\\(f:[0,1]\\rightarrow[0,1]\\)是一个sigmoid型函数 \\[ f(x;\\alpha)=\\frac{1}{1+(\\frac{1}{x}-1)^{\\alpha}}. \\] 下一个上涨移动的概率基本依赖\\(\\frac{U_t}{U_t+D_t}\\)即过去时间步中下跌次数的比例。因此，如果历史上的下跌次数大于上涨次数，那么下一个价格移动\\(X_{t+1}-X_t\\)将会有更多的向上拉力，反之亦然。 我们将\\(S_t\\)建模为由对\\((U_t,D_t)\\)组成，这样\\(S_t\\)的Markov性质可以得到满足 \\[ \\begin{aligned} &amp;P[(U_{t+1},D_{t+1})|(U_t,D_t),...,(U_0,D_0)]=P[(U_{t+1},D_{t+1})|(U_t,D_t)]\\\\ &amp;=\\begin{cases} f(\\frac{D_t}{U_t+D_t};\\alpha_3)&amp;\\text{ if }U_{t+1}=U_t+1,D_{t+1}=D_t\\\\ f(\\frac{U_t}{U_t+D_t};\\alpha_3)&amp;\\text{ if }U_{t+1}=U_t,D_{t+1}=D_t+1 \\end{cases} \\end{aligned} \\] 重要的是与前面两个过程不同，股票价格\\(X_t\\)实际上并不是过程3中状态\\(S_t\\)的一部分，这是因为\\(U_t,D_t\\)共同包含了捕捉\\(X_t\\)的足够信息，因为\\(X_t=X_0+U_t-D_t.\\) 1.1.3 Markov过程的正式定义 书中的定义和定理将由限制在离散时间和可数状态集合。 Def 3.3.1 Markov过程由以下组成 一个可数状态集合\\(\\mathcal{S}\\)（称为状态空间）和一个子集\\(\\mathcal{T}\\subset \\mathcal{S}\\)​（称为终止状态集合）。 一个时间索引的随即状态序列\\(S_t\\in S,\\)时间步为\\(t=0,1,2,...\\),每个状态转移都满足Markov性质:\\(P[S_{t+1}|S_t,...,S_0]=P[S_{t+1}|S_t],\\text{for all }t\\geq0.\\) 终止：如果某个时间步\\(T\\)的结果\\(S_T\\)是集合\\(\\mathcal{T}\\)中的一个状态，则该序列的结果在时间步\\(T\\)终止。 将\\(P[S_{t+1}|S_t]\\)称为时间\\(t\\)的转移概率。 Def 3.3.2 一个时间齐次Markov过程是一个Markov过程且\\(P[S_{t+1}|S_t]\\)与\\(t\\)无关。 这意味着时间齐次Markov过程的动态可以通过下面的函数完全指定： \\[ P:(\\mathcal{S}-\\mathcal{T})\\times\\mathcal{S}\\rightarrow[0,1] \\] 定义为\\(P(s&#39;,s)=P[S_{t+1}=s&#39;|S_t=s]\\)使得\\(\\sum_{s&#39;\\in S}P(s,s&#39;)=1,\\text{for all}s\\in\\mathcal{S-T}.\\)​ 注意上述规范中\\(P\\)的参数没有时间索引\\(t\\)（因此称为时间齐次）。此外注意到一个非时间齐次的Markov过程可以通过将所有状态和时间索引\\(t\\)来结合转换为齐次Markov过程。这意味着如果一个非时间齐次的Markov过程的原始状态空间是\\(\\mathcal{S}\\)，那么对应的时间齐次Markov过程的状态空间是\\(\\mathbb{Z}_{\\geq0}\\times\\mathcal{S}.\\) 1.1.4 Markov过程的稳态分布 Def 3.7.1 对于状态空间\\(\\mathcal{S}=\\mathbb{N}\\)的离散、时间齐次的Markov过程及其转移概率函数\\(P:\\mathbb{N}\\times\\mathbb{N}\\rightarrow [0,1]\\),稳态分布是一个概率分布函数\\(\\pi:\\mathbb{N}\\rightarrow [0,1]\\),满足 \\[ \\pi(s&#39;)=\\sum_{s\\in\\mathbb{N}}\\pi(s)\\cdot P(s,s&#39;),\\text{ for all }s&#39;\\in\\mathbb{N} \\] 稳态分布\\(\\pi\\)的直观理解是，在特定条件下如果我们让Markov过程无限运行，那么在长期内，状态在特定步出现频率（概率）由分布\\(\\pi\\)给出，该分布与时间步无关。 如果将稳态分布的定义专门化为有限状态、离散时间、时间齐次的Markov过程，状态空间为\\(S=\\{s_1,...,s_2\\}=\\mathbb{N},\\)那么我们可以将稳态分布\\(\\pi\\)​表示为 \\[ \\pi(s_j)=\\sum_{i=1}^n\\pi(s_i)\\cdot P(s_i,s_j),\\text{ for al }j=1,2,...,n \\] 下面使用粗体符号表示向量和矩阵。故\\(\\boldsymbol{\\pi}\\)是一个长度为\\(n\\)的列向量，\\(\\boldsymbol{\\mathcal{P}}\\)是\\(n\\times n\\)的转移概率矩阵，其中行是原状态，列为目标状态，每行的和为1。那么上述定义的表述就可以简洁地表示为： \\[ \\boldsymbol{\\pi}^T=\\boldsymbol{\\pi}^T\\cdot\\boldsymbol{\\mathcal{P}},\\text{ or }\\boldsymbol{\\mathcal{P}}^T\\cdot\\boldsymbol{\\pi}=\\boldsymbol{\\pi} \\] 后一个式子可以说明\\(\\boldsymbol{\\pi}\\)是矩阵\\(\\boldsymbol{\\mathcal{P}}\\)​的特征值为1对应的特征向量。 1.1.5 Markov奖励过程的形式主义 我们之所以讲述Markov过程是因为希望通过为Markov过程添加增量特性来逐步进入Markov决策过程，也就是强化学习的算法框架。现在开始讲述介于二者之间的中间框架即Markov奖励过程。基本上我们只是为每次从一个状态转移到下一个状态时引入一个数值奖励的概念。这些奖励是随机的，我们需要做的就是在进行状态转移时指定这些奖励的概率分布。 Markov奖励过程的主要目的是计算如果让过程无限运行（期望从每个非终止状态获得的奖励总和）我们将累积多少奖励，考虑到未来的奖励需要适当地折现。 Def 3.8.1 Markov奖励过程是一个Markov过程以及一个时间索引序列的奖励随机变量\\(R_t\\in\\mathcal{D},\\mathcal{D}\\)是\\(\\mathbb{R}\\)中一个可数子集，\\(t=1,2,...,\\)满足Markov性质： \\[ P[(R_{t+1},S_{t+1})|S_{t},S_{t-1},...,S_0]=P[(R_{t+1},S_{t+1})|S_t]\\text{ for all }t\\geq0 \\] 我们将\\(P[(R_{t+1},S_{t+1})|S_t]\\)称为Markov Reward Process在时间\\(t\\)地转移概率。由于我们通常假设Markov的时间齐次性，我们将假设MRP具有时间齐次性，即\\(P[(R_{t+1},S_{t+1})|S_t]\\)与\\(t\\)​无关。 由时间齐次性的假设，MRP的转移概率可以表示为转移概率函数 \\[ \\mathcal{P}_R:\\mathcal{N\\times D\\times S}\\rightarrow[0,1] \\] 定义为 $$ \\[\\begin{aligned} &amp;\\mathcal{P}_R(s,r,s&#39;)=P[(R_{t+1}=r,S_{t+1}=s&#39;)|S_t=s]\\text{ for }t=0,1,2,...,\\\\ &amp;\\text{for all }s\\in\\mathcal{N},r\\in\\mathcal{D},s&#39;\\in\\mathcal{S},\\text{ s.t. }\\sum_{s&#39;\\in\\mathcal{S}}\\sum_{r\\in\\mathcal{D}}\\mathcal{P}_R(s,r,s&#39;)=1,\\text{ for all }s\\in \\mathcal{N} \\end{aligned}\\] $$ 当涉及模拟时我们需要单独指定起始状态的概率分布。 现在可以扩展更多理论。给定奖励转移函数\\(\\mathcal{P}_R\\)，我们可以得到 隐式Markov过程的概率转移函数\\(P:\\mathbb{N}\\times S\\rightarrow [0,1]\\)可以定义为 \\[ \\mathcal{P}(s,s&#39;)=\\sum_{r\\in\\mathcal{D}}\\mathcal{P}_R(s,r,s&#39;) \\] 奖励转移函数\\(\\mathcal{R}_T:\\mathcal{N\\times S}\\rightarrow \\mathbb{R}\\)定义为 \\[ \\mathcal{R}_T(s,s&#39;)=\\mathbb{E}[R_{t+1}|S_{t+1}=s&#39;,S_t=s]=\\sum_{r\\in\\mathcal{D}}\\frac{\\mathcal{P}_R(s,r,s&#39;)}{\\mathcal{P}(s,s&#39;)}=\\sum_{r\\in\\mathcal{D}}\\frac{\\mathcal{P}_R(s,r,s&#39;)}{\\sum_{r\\in\\mathcal{D}}\\mathcal{P}_R(s,r,s&#39;)}\\cdot r \\] 我们在实践中遇到的大多数MRP奖励规范可以直接表示为奖励转移函数\\(\\mathcal{R}_T\\).最后我们想强调的是，可以将\\(\\mathcal{P}_R\\)或\\(\\mathcal{R}_T\\)转换为一种更紧凑的奖励函数。该函数足以执行涉及MRP的关键计算，这个奖励函数\\(\\mathcal{R}:\\mathcal{N}\\rightarrow \\mathbb{R}\\)定义为 \\[ \\mathcal{R}(s)=\\mathbb{E}[R_{t+1}|S_t=s]=\\sum_{s&#39;\\in\\mathcal{S}}\\mathcal{P}(s,s&#39;)\\cdot\\mathcal{R}_T(s,s&#39;)=\\sum_{s&#39;\\in\\mathcal{S}}\\sum_{r\\in\\mathcal{D}}\\mathcal{P}_R(s,r,s&#39;)\\cdot r \\] "],["glm.html", "2 广义线性模型 2.1 广义线性模型的指数族分布", " 2 广义线性模型 2.1 广义线性模型的指数族分布 假设我们观察到数据\\(\\{y_i\\}\\)是独立随机变量\\(\\{Y_i\\}\\)的一个值，广义线性模型由以下成分组成： 随机成分 \\[ Y_i\\sim f(y_i|\\theta_i,\\phi), \\] 其中\\(f(\\cdot)\\)是指数分布族的概率密度函数或概率质量函数。 链接函数\\(g(\\cdot)\\)满足 \\[ \\eta_i=g(\\mu_i), \\] 其中\\(\\mu_i=E(Y_i)\\). 线性预测器成分 \\[ \\eta_i=x_i^T\\beta. \\] 指数族 一族概率密度函数或概率质量函数被称为指数族，如果满足形式 \\[ f(y|\\theta)=a(\\theta)b(y)\\exp\\left( \\sum_{i=1}^kw_i(\\theta)t_i(y) \\right),y\\in A, \\] 其中我们假设： \\(A\\)不依赖于某个\\(k\\)维向量\\(\\boldsymbol{\\theta}\\)​. \\(a(\\theta)&gt;0\\)是不依赖于\\(y\\)的实值函数。 \\(w_i(\\theta),i=1,...,k\\)是不依赖于\\(y\\)的实值函数。 \\(b(y)\\geq0\\)是不依赖于\\(\\theta\\)的实值函数。 \\(t_i(y),i=1,2,...,k\\)是不依赖于\\(\\theta\\)的实值函数 典型形式 与其说\\(\\theta\\)是参数不如令\\(\\eta_i=w_i(\\theta)\\)称为典型或自然参数，概率密度或质量函数就会变为 \\[ f(y|\\boldsymbol{\\eta})=a^*(\\boldsymbol{\\eta})b(y)\\exp\\left( \\sum_{i=1}^k\\eta_it_i(y) \\right),y\\in A. \\] 这种方程的形式不是唯一的。 指数族的示例 所有这些分布都是指数族： 正态分布 Gamma分布 Beta分布 逆高斯分布 二项分布 Poisson分布 负二项分布 示例 正态分布： \\[ f(y|\\mu,\\sigma^2)=\\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left( -\\frac{(y-\\mu)^2}{2\\sigma^2} \\right). \\] 二项分布 \\[ f(y|p)=\\binom{m}{y}p^y(1-p)^{m-y}. \\] 反例 \\[ f(y|\\theta)=\\theta^{-1}\\exp(1-(y/\\theta)),0&lt;\\theta&lt;y&lt;\\infty \\] 不是一个指数族。 \\(\\boldsymbol{\\eta}\\)的充分统计量 假设我们有一组随机变量\\(\\{Y_i\\}\\)且满足\\(Y_i\\sim f(y_i|\\eta)\\)（在规范形势下）。 于是 $$ \\[\\begin{aligned} &amp;\\prod_{i=1}^nf(y_i|\\boldsymbol{\\eta})\\\\ =&amp;\\prod_{i=1}^n\\left[b(y_i)a^*(\\boldsymbol{\\eta})\\exp\\left( \\sum_{j=1}^k\\eta_jt_j(y_i) \\right) \\right]\\\\ =&amp;\\left(\\prod_{i=1}^nb(y_i) \\right)(a^*(\\boldsymbol{\\eta}))^n\\exp\\left(\\sum_{j=1}^k\\eta_j\\sum_{i=1}^nt_j(y_i)\\right). \\end{aligned}\\] $$ 因此\\(\\{ t_j(\\boldsymbol{y})=\\sum_{i=1}^nt_j(y_i):j=1,...,n \\}\\)是\\(\\{\\eta_j\\}\\)的充分统计量。 指数分布族的似然函数 \\[ \\begin{aligned} L(\\boldsymbol{\\eta}|\\boldsymbol{y})&amp;=\\prod_{i=1}^nf(y_i|\\boldsymbol\\eta)\\\\ &amp;=\\left(\\prod_{i=1}^nb(y_i) \\right)(a^*(\\boldsymbol{\\eta}))^n\\exp\\left(\\sum_{j=1}^k\\eta_j\\sum_{i=1}^nt_j(y_i)\\right). \\end{aligned} \\] 于是对数似然函数为 \\[ l(\\boldsymbol{\\eta}|\\boldsymbol{y})=\\sum_{i=1}^n\\log b(y_i)+n\\log a^*(\\boldsymbol{\\eta})+\\sum_{j=1}^k\\eta_jt_j(\\boldsymbol{y}). \\] GLM setup 利用Aitkin et al. (1989) 提出的指数分布族的特定形式来定义 假设\\(\\{Y_i:i=1,...,n\\}\\)是一组随机变量且它们的质量分布函数或质量密度函数为 \\[ f(y_i|\\theta_i,\\phi)=\\exp\\left( \\frac{y_i\\theta_i-b(\\theta_i)}{a(\\phi)}+c(y_i,\\phi) \\right).\\tag{2.1}\\label{aitkin} \\] 其中\\(\\theta_i\\)是规范参数，\\(\\phi\\)是尺度参数。 - 假设有一固定的函数\\(g(\\cdot)\\)使得\\(\\eta_i=g(\\mu_i)=\\boldsymbol{x}_i^T\\beta\\)其中\\(\\mu_i=E(Y_i|X_i).\\)下面将会证明\\(\\theta_i\\)与\\(\\mu_i\\)是相关的。 如何说明\\(f\\)是指数分布族？ 如果\\(\\phi\\)是已知的，则\\(f(\\cdot)\\)是指数分布族。 如果\\(\\phi\\)未知，则\\(f\\)可能不是指数分布族。 广义“线性模型” 令\\(a(\\phi)=\\phi,b(\\theta_i)=\\frac{\\theta_i^2}{2},c(y,\\phi)=-\\frac{1}{2}(y^2/\\phi+\\log (2\\pi\\phi))\\). 于是 $$ \\[\\begin{aligned} f(y_i|\\theta_i,\\phi)&amp;=\\exp\\left( \\frac{y_i\\theta_i-\\theta_i^2/2}{\\phi}-\\frac{1}{2}\\left[ \\frac{y^2}{\\phi}+\\log(2\\pi\\phi) \\right] \\right)\\\\ &amp;=(2\\pi\\phi)^{-1/2}\\exp\\left( -\\frac{(y_i-\\theta_i)^2}{2\\phi} \\right), \\end{aligned}\\] \\[ 是正态分布的密度函数。如果我们令 \\] _i=_i=_i=E(Y_i)=_iT,=2 \\[ 我们就得到了线性模型。 **$Y_i$的均值与方差** 设$Y_i\\sim f(y_i|\\theta_i,\\phi)$,接下来可以证明 \\] \\[\\begin{aligned} E(Y_i)&amp;=b&#39;(\\theta_i)\\\\ Var(Y_i)&amp;=b&#39;&#39;(\\theta_i)a(\\phi) \\end{aligned}\\] $$ 由\\((\\ref{aitkin})\\)提出的指数分布族的特定形式可以证明 \\[ \\begin{aligned} l(\\theta_i|y_i)=\\frac{y_i\\theta_i-b(\\theta_i)}{a(\\phi)}+c(y_i,\\phi)，\\\\ \\frac{\\partial}{\\partial \\theta_i}l(\\theta_i|y_i)=\\frac{1}{a(\\phi)}[y_i-b&#39;(\\theta_i)]. \\end{aligned} \\] 由恒等式\\(E\\left[ \\frac{\\partial}{\\partial \\theta_i}l(\\theta_i|y_i) \\right]=0,\\)得 \\[ \\begin{aligned} 0&amp;=\\frac{1}{a(\\phi)}[E(Y_i)-b&#39;(\\theta_i)],a(\\phi)&gt;0\\\\ \\Rightarrow &amp; E(Y_i)=b&#39;(\\theta). \\end{aligned} \\] 又因为\\(\\frac{\\partial^2}{\\partial \\theta_i^2}l(\\theta_i|y_i)=-\\frac{b&#39;&#39;(\\theta_i)}{a(\\phi)}\\),利用恒等式 \\[ -E\\left[ \\frac{\\partial^2}{\\partial \\theta_i^2}l(\\theta_i|y_i) \\right]=E\\left[ \\frac{\\partial}{\\partial \\theta_i}l(\\theta_i|y_i)\\right]^2 \\] 可以得到 \\[ \\begin{aligned} \\frac{b&#39;&#39;(\\theta_i)}{a(\\phi)}=\\frac{E[Y_i-b&#39;(\\theta_i)]^2}{a(\\phi)^2}&amp;\\\\ i.e.\\; b&#39;&#39;(\\theta_i)=\\frac{E[Y_i-b&#39;(\\theta_i)]^2}{a(\\phi)}&amp;\\\\ i.e.\\;Var(Y_i)=b&#39;&#39;(\\theta_i)a(\\phi)&amp;. \\end{aligned} \\] 例2.1 二项分布作为指数分布族 设\\(Y_i,i=1,...,n\\)是一列独立且分别服从于二项分布\\(b(n,p_i)\\)的随机变量序列，则 \\[ \\begin{aligned} f(y_i|p_i)&amp;=\\binom{n}{y_i}p_i^{y_i}(1-p_i)^{n-y_i}\\\\ &amp;=\\exp\\left(y_i\\log\\left( \\frac{p_i}{1-p_i} \\right)+n_i\\log(1-p_i)+\\log\\binom{n}{y_i} \\right) \\end{aligned} \\] 令\\(\\theta_i=\\log\\left( \\frac{p_i}{1-p_i} \\right)\\),即 \\[ p_i=\\frac{e^{\\theta_i}}{1+e^{\\theta_i}} \\] 又因为 \\[ \\log(1-p_i)=\\log\\left(\\frac{1}{1+e^{\\theta_i}} \\right), \\] 于是我们有 \\[ f(y_i|p_i,\\phi)=\\exp\\left(\\frac{y_i\\theta_i-b(\\theta_i)}{a(\\phi)}+c(y_i,\\phi) \\right), \\] 其中 \\[ \\begin{aligned} &amp;a(\\phi)=\\phi=1,\\\\ &amp;b(\\theta_i)=n\\log(1+e^{\\theta_i}),\\\\ &amp;c(y_i,\\phi)=\\log\\binom{n}{y_i}. \\end{aligned} \\] 二项分布的期望和方差也可以通过上面提到的规范形式导出，正是我们很熟悉的结果。 Poisson分布作为指数分布族 设\\(Y_i,i=1,...,n\\)是一列独立且分别服从于Poisson分布\\(P(\\lambda_i)\\)的随机变量序列，则 \\[ \\begin{aligned} f(y_i|\\lambda_i,\\phi)&amp;=\\frac{\\lambda_i^{y_i}e^{-\\lambda_i}}{y_i!}\\\\ &amp;=\\exp(y_i\\log(\\lambda_i)-\\lambda_i-\\log(y_i!)), \\end{aligned} \\] 令\\(\\theta_i=\\log\\lambda_i,\\lambda_i=e^{\\theta_i}\\),于是有 \\[ \\begin{aligned} f(y_i|\\lambda_i,\\phi)&amp;=\\exp(y_i\\theta_i-e^{\\theta_i}-\\log(y_i!)),\\\\ &amp;=\\exp\\left(\\frac{y_i\\theta_i-b(\\theta_i)}{a(\\phi)}+c(y_i,\\phi) \\right), \\end{aligned} \\] 其中 \\[ \\begin{aligned} &amp;a(\\phi)=\\phi=1,\\\\ &amp;b(\\theta_i)=e^{\\theta_i},\\\\ &amp;c(y_i,\\phi)=\\log(y_i!). \\end{aligned} \\] 也可以通过\\(b(\\theta_i)\\)的\\(1,2\\)阶导数导出其期望与方差。 链接函数 链接函数是一个函数\\(g(\\cdot)\\)使得\\(\\eta_i=g(\\mu_i),\\)其中\\(\\mu_i=E(Y_i).\\)我们在上面已经证明了\\(\\mu_i=E(Y_i)=b&#39;(\\theta_i).\\)因此\\(g(\\cdot)\\)将均值\\(\\mu_i\\)或典型参数\\(\\theta_i\\)与\\(\\eta_i\\)连接起来。我们通常假设\\(g(\\cdot)\\)是一个双射且连续可微的函数。 典型链接函数 典型链接函数是指\\(g(\\cdot)\\)使得\\(\\eta_i=\\theta_i\\). 这表明了 \\[ \\eta_i=g(b&#39;(\\theta_i))=\\theta_i, \\] 因此\\(g(b&#39;(\\cdot))\\)必是恒等函数。 下面是典型链接函数的例子： - 正态分布中\\(\\eta_i=\\theta_i=\\mu_i\\),于是典型链接函数就是恒等函数。 - 二项分布中\\(\\eta_i=\\theta_i=\\log(\\frac{p_i}{1-p_i})=\\log(\\frac{\\mu_i}{1-\\mu_i})\\),于是典型连接函数是对数几率比函数(logit link function: log odds ratio). - Poisson分布中\\(\\eta_i=\\theta_i=\\log(\\lambda_i)=\\log(\\mu_i)\\),于是典型链接函数是对数函数。 "],["cdc.html", "3 Optimal strategies for collective defined contribution plans when the stock and labor markets are co-integrated（股票和劳动力市场协同整合时集体确定缴款计划的最优策略） 3.1 Introduction 3.2 模型的公式化 3.3 养老金基金计划的最优策略 3.4 数值分析 3.5 总结", " 3 Optimal strategies for collective defined contribution plans when the stock and labor markets are co-integrated（股票和劳动力市场协同整合时集体确定缴款计划的最优策略） 3.1 Introduction 3.1.1 相关工作 在集体确定缴费（Collective Defined Contribution）养老金计划中，基金的资产集中由金融机构管理，福利取决于基金的财务状况。Gollier 2008 认为后代有义务参与养老金计划，集体养老金计划通过强制参与能够实现代际之间的风险转移，相应的风险由当前和未来的几代人共同承担从而改善福利。由于CDC养老金计划在精算研究中的成功，这种类型的养老金设计引起研究人员的极大关注。Bovenberg et al. 2007 讨论了集体养老金计划与传统计划相比的成本和收益。Cui et al. 2011 展示了集体计划和没有风险分担的最佳个人计划之间的福利比较。Wang et al. 2018 研究目标福利计划的最佳投资策略和调整后的福利支付策略，以最小化福利风险和代际转移组合。He et al. 2020 展示了DB-PAYGO养老金制度中不稳定缴费和不连续风险的成本，Wang et al. 2021 考虑具有违约风险和模型不确定性的目标福利计划（TBP）的最优投资和福利支付问题。文献假设劳动收入过程遵循几何布朗运动，然而劳动收入可能与金融市场有关，应该考虑收入与股票市场之间的关系。Mayer et al. 1974 首先实证研究了总劳动收入与资产价格之间的联系，Baxter et al. 1997 指出劳动收入与股息是协整的，他们还提出在没有协整的情况下，劳动收入和GDP的资本在长期内（的比例）可能会变为0或1。此外，Benzoni et al. 2007 在投资组合选择问题中引入了劳动力和股票市场之间的协整，他们通过分析数据表明劳动收入和股息流之间的高度相关性是令人信服的。Geanakoplos et al. 2011 假设平均劳动收入和股票市场存在长期正相关性，并提出了研究这种相关性的重要性。 本文研究了一个CDC养老金计划中的随机最优问题，在此模型中假定缴费率是固定的，福利支付取决于最终的薪资水平。本文提出的主要假设是 养老金基金可以投资于一种风险资产和一种无风险资产组成的金融市场。 将劳动收入过程描述为几何随机游走，其中的漂移项依赖于当前股息与当前劳动收入的比率，其中股息过程遵循几何布朗运动。劳动收入被假定为总劳动收入与成员特质性冲击（shocks）的乘积，其恒定增长率是未知的，我们通过一个连续时间的二状态隐马尔科夫链对特质性冲击进行建模。 养老金成员分为在职和退休。在职成员依然在职并向养老金基金缴费而退休成员从养老金基金中获得福利。每个参与者在年龄\\(a_0\\)时加入养老金计划并在年龄\\(a_1\\)​时退休。 在处理具有常数相对风险厌恶(CRRA)效用函数的最优投资问题时，传统的猜解不易用于求解相关的HJB方程，因此我们在模型不确定性的框架下进行研究选用的效用函数是绝对风险厌恶（CARA）的指数效用，假设基金经理的目标是寻找最优的投资策略（投资到风险资产的比例\\((\\pi^*(t))\\)）和福利政策\\((b^*(t))\\)，以最大化社会福利和终端盈余财富。通过求解HJB方程得到了最优资产配置和福利支付政策的显式解。 3.1.2 主要区别 与现有的CDC基金方案最优设计相比： 本文考虑了劳动和股市之间的协整关系。在现实中，劳动收入与金融市场密切相关。劳动收入的随机性和金融市场的回报是基金经理面临的不确定性来源。因此，本文通过假设劳动收入和股息的对数差值遵循均值回归过程，建立了两者之间的真实关系。劳动收入和风险资产的价格趋势具有协整性，意味着它们在长期内具有相同的趋势。当协整关系较强时，退休收入的波动性大于基金组合回报的波动性。我们的模型通过考虑劳动市场和股市之间的关系，更加贴近现实的金融市场。 此外，本文还考虑了个体性劳动收入冲击的不确定性。因此，除了让劳动收入冲击的对数遵循算术布朗运动，我们的模型进一步提出劳动冲击的增长率可能随时间随机变化。我们通过一个连续时间二态隐马尔可夫链来建模这种不确定性，这增加了解HJB方程的数学难度。 本文其余部分的组织结构如下：第2节介绍了资产和劳动收入的公式化以及相关假设；第3节推导了最优投资策略和福利替代率的显式表达式，并展示了一个应用实例；第4节通过数值实例来说明我们的结果；第5节提供了结论性意见。 3.2 模型的公式化 设\\(T&gt;0\\)为有限时间区间，定义三个标准布朗运动\\(Z_D=\\{Z_D(t),t\\geq0\\},Z_1=\\{ Z_1(t),t\\geq0 \\},Z_L=\\{Z_L(t),t\\geq0 \\}\\).它们定义在概率空间\\((\\Omega,\\mathcal{F},\\mathbb{P})\\)上，令\\(\\mathbb{F}=\\{\\mathcal{F}_t,t\\geq0\\}\\)是由布朗运动生成的扩展过滤(Augmented Filration)。假设三个标准布朗运动都是独立的。本文假设在一个过滤完备的概率空间中，对于\\(p\\geq1,\\)定义 \\[ \\begin{align} &amp;L^p_{\\mathcal{F}_t}(\\Omega;\\mathbb{R})=\\left\\{ X:\\Omega\\rightarrow\\mathbb{R}\\big\\vert X(t)是\\mathcal{F}_t可测的，\\mathbb{E}[|X(t)|^p]&lt;\\infty \\right\\},\\\\ &amp;L^2_\\mathbb{F}(s,t;\\mathbb{R})=\\left\\{ X:[s,t]\\times \\Omega\\rightarrow\\mathbb{R}\\big|X(t)是\\mathbb{F}适应的，\\mathbb{E}\\left[ \\int_s^t|X(\\nu)|^2d\\nu \\right]&lt;\\infty \\right\\},\\\\ &amp;L^p_\\mathbb{F}(\\Omega;L^2(s,t;\\mathbb{R}))=\\left\\{ X:[s,t]\\times\\Omega\\rightarrow \\mathbb{R}\\big|X(t)是\\mathbb{F}适应的，\\mathbb{E}\\left[\\left( \\int_s^t|X(\\nu)|^2d\\nu\\right)^p \\right]&lt;\\infty \\right\\},\\\\ &amp;L^p_{\\mathbb{F}}(\\Omega;C([s,t];\\mathbb{R}))=\\left\\{ X:[s,t]\\times\\Omega\\rightarrow\\mathbb{R}\\big|X(t)是有界的\\mathbb{F}适应且有连续路径，\\mathbb{E}\\left[ \\sup_{\\nu\\in[s,t]}|X(\\nu)|^p \\right]&lt;\\infty \\right\\}. \\end{align} \\] 3.2.1 金融市场 在本文的模型中我们假设基金经理可以在时间区间\\([0,T]\\)内对有一种无风险资产和一种风险资产组成的金融市场进行投资。风险资产向投资者支付持续的股息流，令\\(D(t)\\)表示风险资产在时间\\(t\\)的股息过程。股息的动态过程表示为： \\[ \\begin{cases} \\frac{dD(t)}{D(t)}=g_Ddt+\\sigma dZ_D(t),\\quad t\\in[0,T]\\\\ D(0)=d_0&gt;0 \\end{cases} \\] 其中\\(g_D,\\sigma\\)分别是股息的增长率和波动率。令定价核\\(M(t)\\)的动态表示为： \\[ \\frac{dM(t)}{M(t)}=-rdt-\\lambda_m dZ_D(t) \\] 其中\\(r&gt;0\\)表示常数的无风险利率，\\(\\lambda_m\\)表示常数的风险价格。 [!Note] 定价核(pricing kernel, AKA Stochastic Discount Factor, SDF)是一个用来将未来现金流折现到当前时刻的工具，反映了时间和不确定性对未来现金流的影响，通常用于描述金融资产价格的动态和资产的风险溢价。 令\\(X(t)\\)为风险资产的价格过程。资产价格可以通过以下方式描述，即股息的贴现总和： \\[ X(t)=\\int^\\infty_t\\mathbb{E}_t\\left[ \\frac{M(s)}{M(t)}D(s) \\right]ds. \\] 因此，我们可以推导出\\(D(t)\\)和\\(X(t)\\)成正比，即 \\[ X(t)=\\frac{D(t)}{r+\\lambda_m\\sigma-g_D}, \\] 推导如下图 于是风险资产的动态过程服从下面的几何布朗运动： \\[ \\begin{cases} \\frac{dX(t)}{X(t)}=g_Ddt+\\sigma dZ_D(t),\\quad t\\in[0,T],\\\\ X(0)=x_0&gt;0. \\end{cases} \\] 令\\(S(t)\\)为超额盈余过程，随着时间\\(t\\)变化可以描述为 \\[ \\begin{cases} \\frac{dS(t)}{S(t)}=\\frac{dX(t)+D(t)dt}{X(t)}=\\mu dt+\\sigma dZ_D(t),\\quad t\\in[0,T],\\\\ S(0)=s_0&gt;0. \\end{cases}\\tag{2.1}\\label{2.1} \\] 其中期望回报由定价核的定义得到\\(\\mu=r+\\lambda_m\\sigma.\\) [!Tip] 超额盈余过程\\(S(t)\\)描述了单位风险资产的回报率，是由风险资产的变化量和单位时间内股息流的值在资产价格\\(X(t)\\)的基础上计算超额盈余。 无风险资产\\(S_0(t)\\)的动态过程如下 \\[ \\begin{cases} \\frac{dS_0(t)}{S_0(t)}=rdt,\\\\ S_0(0)=s_{00}&gt;0. \\end{cases}\\label{2.2}\\tag{2.2} \\] 3.2.2 劳动收入 参考Benzoni et al. 2007 的工作，假设劳动收入\\(L(t)\\)是总劳动收入\\(L_1(t)\\)和成员的个体性冲击\\(L_2(t)\\)的乘积，在对数化模型中有 \\[ l(t)=l_1(t)+l_2(t),\\label{2.3}\\tag{2.3} \\] 文章通过让总劳动收入与股市之间的对数差值服从均值回归过程，来模拟总劳动收入和股市的协整性。令差值\\(y(t)\\)满足 \\[ y(t)=\\log L_1(t)-\\log D(t)-\\lambda,\\label{2.4}\\tag{2.4} \\] 其中正的常数\\(\\lambda\\)是总劳动收入与股息的长期对数比率。差值\\(y(t)\\)的动态过程由下面的方程描述 \\[ \\begin{cases} dy(t)=-ky(t)dt+v_LdZ_L(t)-v_DdZ_D(t),\\quad t\\in[0,T],\\\\ y(0)=y_0. \\end{cases} \\] 其中\\(k\\)决定了变量\\(y(t)\\)向长期均值回归的速度并捕捉了总劳动收入与股息之间的协整性（即当\\(k=0\\)时二者不存在协整性）。\\(v_L,v_D\\)分别是条件波动率，\\(Z_L(t)\\)是与总劳动收入不确定性相关的SBM. 特质性冲击的对数过程由下面的式子描述 \\[ \\begin{cases} dl_2(t)=\\left( \\alpha(t)-\\frac{v_1^2}{2} \\right)dt+v_1dZ_1(t),\\quad t\\in[0,T],\\\\ l_2(0)=l_{20}. \\end{cases} \\] 其中\\(\\alpha(t)\\)是增长率,\\(v_1\\)是相应的波动率，\\(Z_1(t)\\)是与\\(Z_L(t),Z_D(t)\\)相互独立的SBM. 3.2.3 养老金系统 本文考虑的养老金保险计划中，成员分为两组，在职成员是指向养老基金缴纳费用的工作成员，而退休成员从养老基金中获取福利。所有成员假设从\\(a_0\\)开始加入计划，直到退休年龄\\(a_1\\)为止，且死亡年龄为\\(a_2.\\)我们还假设生存函数\\(s(x),\\)且\\(s(a_0)=1\\)​. 用\\(n(t)\\)表示在时间\\(t\\)时年龄为\\(a_0\\)的新成员加入养老金计划的密度。\\(n(t)\\)是一个非负函数表示新成员加入养老金计划的密度不可能为负。然后在时间\\(t\\)时年龄为\\(x\\)的人数为 \\[ n(t-(x-a_0))s(x),\\quad t&gt;0. \\] 其中\\(t-(x-a_0)\\)可能为负，这意味着年龄为\\(x\\)的个体是在\\(x-a_0\\)年前加入计划的。当年龄为\\(x\\)的个体尚未加入养老金计划时，\\(n(t-(x-a_0))=0.\\) 劳动力市场中在职成员和退休成员的总人数分别用\\(M_1(t),M_2(t)\\)表示： \\[ M_1(t)=\\int_{a_0}^{a_1}n(t-(x-a_0))s(x)dx,\\\\ M_2(t)=\\int_{a_1}^{a_2}n(t-(x-a_0))s(x)dx. \\] 在职成员的数量决定了总的缴费率，假设\\(C_0\\)时时间\\(0\\)时的即时缴费率，\\(\\eta_1\\)是缴费的指数增长率，因此养老基金在时间\\(t\\)时的总缴费率为: \\[ C(t)=\\int_{a_0}^{a_1}n(t-x+a_0)s(x)C_0e^{\\eta_1t}dx. \\] 退休成员的数量决定了养老基金的总福利、薪资结构以及初始年度养老金的支付率。初始养老金支付率被假定为退休时最终薪资的一定比例。对于在时间\\(t\\)退休的成员，初始养老金的支付额为\\(b(t)L(t),\\)其中\\(b(t)\\)是替代率可以视为控制变量。对于在时间\\(t\\),年龄为\\(x\\)的成员(即已经退休\\(x-a_1\\)年)，最终薪资是\\(x-a_1\\)年前的薪水。与Wang et al. 2018 中的工作类似，为了确定\\(x\\)岁的退休成员在时间\\(t\\)的年度养老金支付率，引入一个新的量\\(FL(x,t)\\)表示该成员在退休\\(x-a_1\\)年后的假定薪资，这个量定义为 \\[ FL(x,t)=L(t)e^{-\\eta_0(x-a_1)},\\; t\\geq0,\\; x\\geq a_1. \\] 其中\\(L(t)\\)表示在时间\\(t\\)退休成员的薪资，假定薪资通过指数增长率\\(\\eta_0\\)进行确定性地向后推算。这个方法与成员退休时的实际薪资不同，尤其是在\\(\\eta_0&gt;0,x&gt;a_1\\)时，实际薪资与假定薪资之间的差异随着年龄增大而增大。设对假定的薪资应用一个调整因子，因此时间\\(t\\)时年龄为\\(x\\)的成员的养老金支付为： \\[ B(x,t)=b(t)L(t)e^{-\\eta_0(x-a_1)}. \\] 所有退休成员在时间\\(t\\)时的实际总退休福利（涵盖年龄\\(x\\)从\\(a_1\\sim a_2\\)的退休成员）可以通过下式得到 \\[ B(t)=\\int_{a_1}^{a_2}n(t-x+a_0)s(x)B(x,t)dx\\overset{d}{=}F(t)b(t)L(t), \\] 其中\\(F(t)\\)是一个正的函数，定义为 \\[ F(t)=\\int_{a_1}^{a_2}n(t-x+a_0)s(x)e^{-\\eta_0(x-a_1)}dx. \\] 为了增加养老金的福利，基金经理将在缴费和福利之间的盈余部分进行动态投资。在本文的模型中，金融市场由一个风险资产和一个无风险资产组成，设\\(\\pi(t)\\)是时间\\(t\\)投资于风险资产的比例。则养老金基金的财富过程为 \\[ \\begin{cases} dW(t)=\\pi(t)W(t)\\frac{dX(t)+D(t)dt}{X(t)}+(1-\\pi(t))W(t)\\frac{dS_0(t)}{S_0(t)}+C(t)dt-B(t)dt,\\\\ w(0)=w_0&gt;0.\\tag{2.5}\\label{2.5} \\end{cases} \\] [!Note] \\(W(t)\\)是养老金基金的财富过程 \\(\\pi(t)\\)是投资于风险资产的比例 \\(X(t)\\)是风险资产的价格过程 \\(D(t)\\)是风险资产的股息支付 \\(S_0(t)\\)是无风险资产的价格过程 \\(C(t)\\)是缴费项 \\(B(t)\\)是福利支付项 接下来我们定义可接受的策略和本文研究的主要问题。 Definition 2.1 对于任何固定\\(t\\in[0,T],\\)策略对\\((\\pi(t),b(t))\\)被称为可接受的，如果它满足以下条件： 投资策略和初始福利支付政策\\((\\pi(t),b(t))\\)是\\(\\mathcal{F}_t\\)适应的，以使得SED\\((\\ref{3.4})\\)存在唯一解\\(W_{\\pi,b}(t).\\) \\(\\pi(t)\\in L_{\\mathbb{F}}^2(0,T;\\mathbb{R}^+)\\)且\\(b(t)\\in L_{\\mathbb{F}}^2(0,T;\\mathbb{R}^+)\\)对所有\\(t&gt;0\\)成立。 Problem 2.1 对于初始状态\\((t,W_t),\\)养老金基金经理的目标函数是最大化： \\[ J(t,w,l,y)=\\mathbb{E}_{\\pi,b}\\left[ \\int_t^Te^{-rs}U(b(s)F(s)L(s))ds+\\lambda_1e^{-rT}U(W(T)) \\right],\\tag{2.6}\\label{2.6} \\] 其中\\(\\lambda_1\\)是一个非负常数表示对终期财富带来的效用的权重。\\(\\mathbb{E}_{\\pi,b}\\)是在概率测度\\(\\mathbb{P}\\)下给定\\(W(t)=w,L(t)=l,y(t)=y\\)时的条件期望。于是这个问题的价值函数就是 \\[ V(t,w,l,y)=\\sup_{(\\pi,b)\\in\\mathcal{A}}J(t,w,l,y), \\] 其中\\(\\mathcal{A}\\)是一组控制对的集合。 3.3 养老金基金计划的最优策略 本节通过标准的动态规划方法研究这个随机最优控制问题。当劳动市场和股票市场是协整关系时得出了最优控制的显式表达式。本文考虑两种劳动收入过程的情况，具有未知增长率的特质性冲击以及不考虑特质性冲击。 3.3.1 具有特质性冲击的最优策略 这一小节中假设员工面临关于劳动收入的不确定性，通过考虑具有未知增长率的特质性冲击来捕捉这种不确定性。本文使用一个连续时间的二状态的隐马尔科夫链来描述劳动收入冲击的内在不确定性和动态特性。具体来说，\\(\\alpha(t)\\)是未知的增长率，使用连续时间的二状态隐马尔可夫链在\\((\\Omega,\\mathcal{F},\\mathbb{P})\\)上建模，并在\\(\\alpha_1,\\alpha_2\\)之间变化，其中\\(\\alpha_1&gt;\\alpha_2.\\)增长率\\(\\alpha(t)\\)可能取高值\\(\\alpha_1\\)或低值\\(\\alpha_2.\\)在一个小时间间隔\\(\\Delta t\\)内，增长率\\(\\alpha(t)\\)在时刻\\(t\\)取\\(\\alpha_1\\)的概率是\\(1-p_1\\Delta t\\),保持\\(\\alpha_2\\)的概率为\\(1-p_2\\Delta t\\)，其中\\(p_1,p_2\\)是二状态隐马尔科夫链的转移强度，从\\(\\alpha_1\\)转移到\\(\\alpha_2\\)的概率为\\(p_1\\Delta t,\\)从\\(\\alpha_2\\)转移到\\(\\alpha_1\\)的概率为\\(p_2\\Delta t.\\)对于任何的\\(t\\)设\\(P(t)\\)为条件概率，表示给定观测信息\\(\\mathcal{F}_t,\\)增长率\\(\\alpha(t)\\)取\\(\\alpha_1\\)的概率， \\[ P(t)=\\mathbb{P}(\\alpha(t)=\\alpha_1|\\mathcal{F}_t). \\] 对数化特质性冲击的预期增长率\\(\\mu_0(t)\\)是两种可能增长率的加权平均值，给定为 \\[ \\mu_0(t)=P(t)\\alpha_1+(1-P(t))\\alpha_2=\\alpha_2+\\beta P(t), \\label{31}\\tag{3.1} \\] 其中\\(\\beta=\\alpha_1-\\alpha_2.\\)对于一个小时间间隔\\(\\Delta t,\\)对数特质性劳动冲击的总变化是\\(l_2(t+\\Delta t)-l_2(t),\\)其预期变化为\\(\\mu_0(t)\\Delta t-\\frac{v_1^2}{2}\\).参考Wang et al. 2009 中的处理方法，对相应波动率进行归一化得到 \\[ dZ_1(t)=\\frac{1}{v_1\\Delta t}\\left(l_2(t+\\Delta t)-l_2(t)-\\mu_0(t)\\Delta t-\\frac{v_1^2}{2}\\right). \\tag{3.2}\\label{3.2} \\] 将式子\\((\\ref{3.2})\\)带入式子\\((\\ref{31})\\)就得到 \\[ dl_2(t)=(\\alpha_2+\\beta P(t)-\\frac{v_1^2}{2})dt+v_1dZ_1(t). \\] &gt; [!Warning] &gt; &gt; 感觉上式有点问题，预期变化应该为\\((\\mu_0(t)-\\frac{v_1^2}{2})\\Delta t\\) &gt; &gt; 归一化之后得到 &gt; \\[ &gt; \\frac{dZ_1(t)}{dt}=\\frac{1}{v_1\\Delta t}\\left(l_2(t+\\Delta t)-l_2(t)-(\\mu_0(t)-\\frac{v_1^2}{2})\\Delta t\\right). &gt; \\] &gt; 才能得到\\(l_2(t)\\)的动态过程。 应用 Statistics of Random Process 中的结果，我们还可以得到\\(P(t)\\)的动态过程 :question: \\[ dP(t)=(p_2-(p_1+p_2)P(t))dt+v_1^{-1}\\beta P(t)(1-P(t))dZ_1(t). \\] 由式\\((\\ref{2.3}),(\\ref{2.4})\\)可知对数劳动收入可以写作 \\[ l(t)=y(t)+d(t)+\\lambda+l_2(t), \\] 其中\\(d(t)=\\log D(t)\\)且其动态过程可以写作 \\[ \\begin{cases} d\\,d(t)=(g_D-\\frac{\\sigma^2}{2})dt+\\sigma dZ_D(t),\\quad t\\in[0,T],\\\\ d(0)=d_0. \\end{cases} \\] 应用Ito公式，对数化劳动收入就导出为 :question: \\[ d\\,l(t)=[-ky(t)+g_D-\\frac{\\sigma^2}{2}+\\lambda+\\beta P(t)+\\alpha_2-\\frac{v_1^2}{2}]dt\\\\ +(\\sigma-v_D)dZ_D(t)+v_LdZ_L(t)+v_1dZ_1(t). \\] 使用Ito公式就可得到 \\[ \\begin{cases} &amp;\\frac{dL(t)}{L(t)}&amp;=[-ky(t)+g_D-\\frac{\\sigma^2}{2}+\\lambda+\\beta P(t)+\\alpha_2+\\frac{v_L^2}{2}+\\frac{1}{2}(\\sigma-v_D)^2]dt\\\\ &amp; &amp;+(\\sigma-v_D)dZ_D(t)+v_LdZ_L(t)+v_1dZ_1(t),\\quad t\\in[0,T].\\\\ &amp;L(0)&amp;=l_0.\\label{3.3}\\tag{3.3} \\end{cases} \\] 结合式子\\((\\ref{2.1}),(\\ref{2.2})\\)就可以重写 \\[ \\begin{cases} \\frac{dW(t)}{W(t)}=[(\\mu-r)\\pi+r+\\frac{C(t)}{W(t)}-\\frac{F(t)L(t)b(t)}{W(t)}]dt+\\pi\\sigma dZ_D(t),\\\\ W(0)=w_0&gt;0,\\tag{3.4}\\label{3.4} \\end{cases} \\] 其中\\(L(t),P(t)\\)的动态过程也已经给出。 随后我们用\\(P\\)表示\\(P(t)\\),\\(L(t)\\)记作\\(l,W(t)\\)记作\\(w,\\)稍作符号上的简化，对于初始状态\\((t,W_t)\\),基金经理的目标是最大化以下的目标函数 \\[ J(t,w,l,y,P)=\\mathbb{E}_{\\pi,b}\\left[ \\int_t^Te^{-rs}U(b(s)F(s)L(s))ds+\\lambda_1e^{-rT}U(W(T))\\right],\\label{3.6}\\tag{3.6} \\] 该问题的价值函数由下面的公式给出 \\[ V(t,w,l,y,P)=\\sup_{(\\pi,b)\\in\\mathcal{A}}J(t,w,l,y,P),\\tag{3.7}\\label{3.7} \\] 其中\\(\\mathcal{A}\\)是控制对的集合。假设效用函数表达式如下 \\[ U(w)=-\\frac{1}{\\gamma}e^{-\\gamma w}, \\] 其中\\(\\gamma&gt;0\\)是常数的绝对风险厌恶系数。基金经理的目标是最大化福利和最终的剩余财富。为了简便起见，我们定义 \\[ \\begin{align} C^{1,2,2,2,2}&amp;([0,T]\\times\\mathbb{R}^+\\times\\mathbb{R}^+\\times\\mathbb{R}^+\\times\\mathbb{R}^+)\\\\ =&amp;\\{V(t,w,l,y,P)|V(t,\\cdot,\\cdot,\\cdot,\\cdot) \\text{ is once continuously differentiable on }[0,T],\\\\ &amp;V(\\cdot,w,l,y,P)\\text{ is twice continuously differentiable for }\\\\ &amp;w\\in \\mathbb{R}^+,l\\in\\mathbb{R}^+,y\\in\\mathbb{R}^+,P\\in\\mathbb{R}^+.\\} \\end{align} \\] 使用标准方法即可得到下面的HJB方程满足$V(t,w,l,y,P)C^{1,2,2,2,2} $ 下面是推导过程及结果 上面最后一个式子记为\\((3.8)\\),再加上边界条件 \\[ V(T,w,l,y,P)=-e^{-rT}\\frac{\\lambda_1}{\\gamma}e^{-\\gamma w}.\\tag{3.9}\\label{3.9} \\] 下面的定理可以阐述这个随机控制问题的结果 Theorem 3.1 对于任意的\\(t\\in[0,T],\\)最优投资策略和福利调整策略分别由下式给出 \\[ \\begin{align} &amp;\\pi^*(t,w,l,y,P)=\\frac{\\mu-r}{\\gamma f_1(t)\\sigma^2 w},\\tag{3.10}\\label{3.10}\\\\ &amp;b^*(t,w,l,y,P)=\\frac{\\ln \\lambda_1+\\ln f_1(t)-\\gamma f_1(t)w-\\gamma f_2(t)-\\gamma f_5(P)}{-\\gamma F(t)l},\\label{3.11}\\tag{3.11} \\end{align} \\] 且最终相应的价值函数就是 \\[ V(t,w,l,y,P)=-\\frac{\\lambda_1}{\\gamma}e^{-\\gamma[f_1(t)w+f_2(t)+f_5(P)]-rt}, \\] 其中 \\[ \\begin{align} f_1(t)&amp;=\\left[ e^{-\\int_t^Trds}+\\int_t^Te^{-\\int_t^srdu}ds \\right]^{-1},\\\\ f_2(t)&amp;=\\int_t^Te^{-\\int_t^sf_1(u)du}\\times\\left[ f_1(s)\\left( C(s)-\\frac{1-\\ln f_1(s)-\\ln\\lambda_1}{\\gamma} \\right)+\\frac{1}{2}\\frac{(\\mu-r)^2}{\\gamma\\sigma^2}+\\frac{r}{\\gamma} \\right]ds-f_5(P(T)). \\end{align} \\] \\(f_5(P)\\)满足下面的常微分方程，其中\\(0&lt;P&lt;1,\\) \\[ f_1(t)f_5(P)=f_5&#39;(P)[p_2-(p_1+p_2)P]-\\frac{1}{2v_1^2}[\\gamma f&#39;_5(P)-f&#39;&#39;_5(P)]P^2(1-P)^2\\beta^2, \\] 其边界条件是 \\[ \\begin{cases} f_1(t)f_5(0)=p_2f&#39;_5(0),\\\\ f_(t)f_5(1)=-p_1f&#39;_5(1). \\end{cases} \\] Proof. 由HJB方程\\((3.8)\\)可以导出两个控制的一阶条件为 \\[ \\begin{align} &amp;0=wV_w(\\mu-r)+w^2V_{ww}\\sigma^2\\pi+wlV_{wl}\\sigma(\\sigma-v_D)-wV_{wy}\\sigma v_D,\\\\ &amp;0=-V_{w}F(t)l+F(t)le^{-rt}e^{-\\gamma F(t)lb}. \\end{align} \\] 因此最优投资策略和福利调整策略由下式给出 \\[ \\begin{align} &amp;\\pi^*=\\frac{V_w\\sigma v_D-V_w(\\mu-r)-lV_{wl}\\sigma(\\sigma-v_D)}{wV_{ww}\\sigma^2},\\\\ &amp;b^*=\\frac{\\ln V_w+rt}{-\\gamma F(t)l}. \\end{align} \\tag{3.13}\\label{3.13} \\] 猜测解的形式为 \\[ V(t,w,l,y,P)=-\\frac{\\lambda_1}{\\gamma}\\exp\\{ -\\gamma[f_1(t)w+f_2(t)+f_3(t,l)+f_4(t)y+f_5(P)]-rt \\}, \\] 且有边界条件\\(f_1(T)=1,f_2(T)=-f_5(P(T)),f_3(T)=f_4(T)=0.\\) 于是我们有下面的一系列式子 \\[ \\begin{align} &amp;V_t=-\\gamma [f_{1t}w+f_{2t}+f_{3t}(t,l)+f_{4t}y+\\frac{r}{\\gamma}]V,\\\\ &amp;V_w=-\\gamma f_1V,\\quad V_{ww}=\\gamma^2f_1^2V,\\\\ &amp;V_l=-\\gamma f_{3l}V,\\quad V_{ll}=\\gamma^2f_{3l}^2V-\\gamma f_{3ll}V,\\\\ &amp;V_y=-\\gamma f_4V,\\quad V_{yy}=0,\\\\ &amp;V_P=-\\gamma f_{5P}V,\\quad V_{PP}=\\gamma^2 f_{5P}V-\\gamma f_{5PP}V,\\\\ &amp;V_{wl}=\\gamma^2 f_1f_{3l}V,\\quad V_{wy}=\\gamma^2f_1f_4V,\\\\ &amp;V_{ly}=\\gamma^2f_{3l}f_4V,\\quad V_{lP}=\\gamma^2f_{3l}f_{5P}V. \\end{align}\\label{3.14}\\tag{3.14} \\] 将\\((\\ref{3.13}),(\\ref{3.14})\\)代入HJB方程\\((3.8)\\)​​，得 假设\\(f_3(t,l)=f_3(t)\\ln l,\\)​比较变量的系数可得下面的ODEs 通过ODEs我们可以得到\\(V\\)的表达式从而最优投资策略和福利策略就可以得到。 遵循 Controlled Markov Processes and Viscosity Solutions, 2nd ed. 中的标准方法，假设\\(\\hat{V}\\in C^{1,2,2,2,2}\\)是(3.8)的解且满足边界条件\\((\\ref{3.9})\\),于是对于任意固定的\\(t\\in[0,T]\\),对于可行的控制对\\((\\pi^*(t),b^*(t))\\),都有 \\[ \\hat{V}(t,w,l,y,P)\\geq J(t,w,l,y,P). \\] 如果存在可行控制对\\((\\pi^*(t),b^*(t))\\)使得(3.8)式取等号，则 \\[ \\hat{V}(t,w,l,y,P)= J(t,w,l,y,P). \\] 如果我们令\\(V=\\hat{V},\\)则我们的假设就成立，相应的控制对是可行的，于是最优的投资策略和福利率就可以得到了。\\(\\square\\) [!Note] 值得注意的是，最优投资策略\\(\\pi^*(t)\\)与劳动收入\\(L(t)\\)无关,这意味着投资决策不受退休成员薪资模型的影响，表明投资策略在劳动收入变化的情况下仍能保持一致。福利调整策略\\(b^*(t)\\)​则依赖于劳动收入，影响退休福利的值，这是因为福利支付水平依赖于最终的薪资水平。 注意给定最优投资策略\\((\\ref{3.10})\\)依赖于时间\\(t\\)的财富过程\\(W.\\)风险资产的回报率通常高于无风险利率，即\\(\\mu&gt;r.(\\ref{3.10})\\)显示投资于风险资产的最优配置策略是正的，这意味着随着预期回报率的增加，基金经理会进行更大的投资。 3.3.2 无特质性冲击时的最优策略 本小节考虑一种特殊情形：劳动收入与股票在没有特质性冲击的情况下是协整的。通过让劳动与股市之间的对数劳动-股息比率遵循均值回归过程来建模劳动收入和股市之间的长期关系。令\\(\\overline{L}(t)\\)为劳动收入过程，则对数劳动与对数股息之间的差值为\\(\\overline{l}(t).\\) 令\\(\\overline{\\pi}(t)\\)为投资于风险资产的比例，\\(\\overline{b}(t)\\)为此情况下的福利策略，则财富过程可以变为 \\[ \\begin{cases} \\frac{d\\overline{W}(t)}{\\overline{W}(t)}=\\left[ (\\mu-r)\\overline{\\pi}+r+\\frac{C(t)}{\\overline{W}(t)}-\\frac{F(t)\\overline{L}(t)\\overline{b}(t)}{\\overline{W}(t)} \\right]dt+\\overline{\\pi}(t)\\sigma dZ_D(t),\\\\ \\overline{W}(0)=\\overline{w}_0&gt;0, \\end{cases}\\label{3.22}\\tag{3.22} \\] 其中 \\[ \\begin{align} \\frac{d\\overline{L}(t)}{dt}&amp;=\\left[ -k\\overline{y}(t)+g_D+\\overline{\\lambda}-\\frac{\\sigma^2}{2}+\\frac{(\\sigma-v_D)^2}{2} \\right]dt+(\\sigma-v_D)dZ_D(t),\\\\ \\frac{d\\overline{y}(t)}{\\overline{y}(t)}&amp;=-k\\overline{y}(t)dt-v_DdZ_D(t). \\end{align} \\] 有如下对SDE\\((\\ref{3.22})\\)对应的可行策略的定义。 Definition 3.4 对于任意的\\(t\\in[0,T],\\)策略对\\((\\overline{\\pi}(t),\\overline{b}(t))\\)被称为可行的，如果策略对是\\(\\mathcal{F}_t\\)适应的且满足如下条件： \\[ \\mathbb{E}\\left[ \\int^T_t[\\overline{b}^2(s)]ds \\right]&lt;\\infin,\\\\ \\mathbb{E}\\left[ \\int^T_t[\\overline{\\pi}^2(s)]ds \\right]&lt;\\infin, \\] 且SDE\\((\\ref{3.22})\\)有唯一解。 基金经理的目标是最大化以下的期望效用 \\[ \\bar{J}(t,\\bar{w},\\bar{l},\\bar{y})=\\mathbb{E}_{\\bar{\\pi},\\bar{b}}\\left[ \\int_t^Te^{-rs}U(\\bar{b}(s)F(s)\\bar{L}(s))ds+\\lambda_1e^{-rT}U(\\bar{W}(T)) \\right], \\] 其中\\(\\lambda_1\\)是一个非负常数，表示终端财富效用的权重。然后，问题的价值函数由以下公式给出 \\[ \\bar{V}(t,\\bar{w},\\bar{l},\\bar{y})=\\sup_{\\bar{\\pi},\\bar{b}}\\bar{J}(t,\\bar{w},\\bar{l},\\bar{y}), \\] 效用函数为 \\[ U(\\bar{w})=-\\frac{1}{\\gamma_1}e^{-\\gamma_1\\bar{w}}, \\] 其中\\(\\gamma_1&gt;0\\)​是基金经理的常数绝对风险厌恶系数。 可以列出相应的HJB方程 最优投资策略和福利调整策略由下面的定理导出。 Theorem 3.5 对于任意的\\(t\\in[0,T],\\)最优投资问策略和福利调整政策由下式给出 \\[ \\begin{align} \\bar{\\pi}^*(t,\\bar{w},\\bar{l},\\bar{y})&amp;=\\frac{\\mu-r}{\\gamma_1\\bar{g}_1(t)\\sigma^2\\bar{w}},\\\\ \\bar{b}^*(t,\\bar{w},\\bar{l},\\bar{y})&amp;=\\frac{\\ln \\lambda_1+\\ln\\bar{g}_1(t)-\\gamma_1\\bar{g}_1(t)\\bar{w}-\\gamma_1\\bar{g}_2(t)}{-\\gamma_1F(t)\\bar{l}}, \\end{align} \\] 相应的边界条件为 \\[ \\bar{V}(t,\\bar{w},\\bar{l},\\bar{y})=-\\frac{\\lambda_1}{\\gamma_1}e^{-\\gamma_1[\\bar{g}_1(t)\\bar{w}+\\bar{g}_2(t)]-rt}, \\] 其中 \\[ \\begin{align} \\bar{g_1}(t)&amp;=\\left[ e^{-\\int_t^Trds}+\\int_t^Te^{-\\int_t^s rdu}ds \\right]^{-1},\\\\ \\bar{g}_2(t)&amp;=\\int_t^Te^{-\\int_t^s\\bar{g}_1(u)du}\\times\\left[ \\bar{g}_1(s)\\left( C(s)-\\frac{1-\\ln \\bar{g}_1(s)-\\ln \\lambda_1}{\\gamma_1} \\right)+\\frac{(\\mu-r)^2}{2\\gamma_1\\sigma^2}+\\frac{r}{\\gamma_1} \\right]ds. \\end{align} \\] [!Note] 比较两种情况下获得的最优投资和福利替代政策。我们发现最优的投资策略是保持不变的，不存在模型的模糊性。这是因为最优投资策略与劳动收入无关。劳动收入过程不影响投资策略。然而增长率的不确定性影响福利调整政策，两种情况下福利支付策略是不同的。 3.4 数值分析 本节探究金融市场中的参数对于最优投资分配和福利策略的影响。 首先假设\\(\\mu_1(x)=A+Bc^x\\)是年龄\\(x\\)岁时的死亡力(Force of Mortality)，于是存活函数就可以写为 \\[ \\begin{align} s(x)&amp;=e^{-\\int_0^{x-a_0}\\mu(a_0+s)ds}\\\\ &amp;=e^{-A(x-a_0)-\\frac{B}{\\ln c}(c^x-c^{a_0})},\\;a_0\\leq x\\leq a_1. \\end{align} \\] 基础参数设置为\\(A=0.00022,B=2.7\\times10^{-6},c=1.124,a_0=30,a_1=65,a_2=100,n=10,\\eta_0=0.01\\).结合函数\\(s(x),F(t)\\)的表达式 \\[ F(t)=\\int_{a_1}^{a_2}n(t-x+a_0)s(x)e^{-\\eta_0(x-a_1)}dx, \\] 可以得出累积的福利因子\\(F=188.8688\\)​​. 用R语言程序计算如下 A &lt;- 0.00022 B &lt;- 2.7e-6 c &lt;- 1.124 a_0 &lt;- 30 a_1 &lt;- 65 a_2 &lt;- 100 n &lt;- 10 eta_0 &lt;- 0.01 s &lt;- function(x) { exp(-A * (x - a_0) + (B / log(c)) * (c^x - c^a_0)) } integrand &lt;- function(x) { n * s(x) * exp(-eta_0 * (x - a_1)) } # 计算积分 F F &lt;- integrate(integrand, lower = a_1, upper = a_2) cat(&quot;积分 F 的值为:&quot;, F$value, &quot;\\n&quot;) # 输出结果为 ## 积分 F 的值为: 188.8688 又有参数\\(\\eta_1=0.02,\\lambda=0.3,g_D=0.01,w_0=150,y_0=0,\\lambda_m=1,\\lambda_1=0.3,\\gamma=0.3,C_0=0.1\\)无风险利率\\(r=0.01,\\)关键的协整系数的参数\\(k=0.15,v_D=0.16,\\sigma=0.16.\\) :question: 基于Benzoni et al. 2007 的工作，使用\\(\\mathbb{E}_t[\\bar{y}_s],\\mathbb{E}_t[\\bar{L}_s],s\\in[t,T]\\)的解析解。为了模拟\\(\\bar{y}(t),\\bar{L}(t)\\)的值，假设劳动收入服从正态分布，于是有 \\[ \\mathbb{E}_t[\\bar{L}(s)]=e^{\\mathbb{E}_t[\\bar{l}(s)]+\\frac{1}{2}Var_t[\\bar{l}(s)]}, \\] 其中 $$ \\[\\begin{align} \\mathbb{E}_t[\\bar{l}(s)]&amp;=\\bar{l}_0-\\bar{y}_0(1-e^{-ks})+(g_D-\\bar{\\lambda}-\\frac{\\sigma^2}{2})s,\\\\ Var_t[\\bar{l}(s)]&amp;=v_D^2[s-\\frac{1}{2k}(3-e^{-ks})(1-e^{-kt})]+(\\sigma-v_D)^2s+2[v_D(\\sigma-v_D)(s-\\frac{1}{k}(1-e^{-ks}))]. \\end{align}\\] $$ 图4.4展示了劳动收入的确定性模式\\(\\bar{L}(t)\\)随时间\\(t\\)​变化的情况，显然劳动收入随时间呈上升趋势。 图4.5展示了在参数\\(k\\)控制的不同协整条件下均值回归系数对薪资和福利支付比率的影响。该参数衡量劳动收入回归其平均值的快慢，提供了对收入稳定性或波动性的洞察。从图4.5.1中我们看到，对于任何固定时间，劳动收入随着的增加而增加。这是因为当增加时，劳动收入变得更具“股票特性”。参数决定了变量\\(\\bar{}()\\)向长期均值的回归速度，并且捕捉了与劳动收入和股息相关的协整时间尺度。此外，协整意味着长期依赖性，因此，劳动收入在不同的协整水平下在短期内不会发生变化。图4.5.2显示了福利调整支付率和增长减少。较低的福利支付比率\\(\\bar{b}^∗()\\)意味着更多的钱留在基金中。劳动收入的增加导致福利替代支付比率的增长下降，这反映了养老金制度对退休收入的支付比例。 图4.6展示了在每个时间点最优值\\(\\bar{}^∗()\\)和\\(\\bar{}^∗()\\)的变化。从图4.6.1可以观察到，最优投资配置\\(\\bar{}^∗()\\)减少，这意味着在给定的时期内，投资于风险资产的比例较低。这似乎符合投资智慧，年轻的决策者通常会在风险资产上投资较多。此外，从图4.6.2可以看到，福利调整支付比率\\(\\bar{}^∗()\\)​呈上升趋势，这表明随着时间的推移，基金经理提供的支付比例在增加。 接下来研究风险厌恶参数\\(\\gamma_1\\)对最优投资和福利策略的影响。 图4.7展示了风险厌恶对最优策略的影响。在图4.7.1中观察到\\(\\bar{\\pi}^*(t)\\)随风险厌恶系数增加而减少，意味着投资风险资产比例越来越少，风险厌恶系数增加导致基金经理会更谨慎进行投资。图4.7.2中我们看到最优福利调整比率几乎不随着不同的\\(\\gamma_1\\)变化，这表明养老金成员收到的收益几乎不会受到投资者风险偏好水平的影响。 3.5 总结 本文聚焦于一个持续时间内的集体定义缴款（CDC）养老金基金方案，其中股票与劳动收入是协整的。我们假设成员的特质性冲击的增长率未知，并通过一个连续时间的二态隐藏马尔可夫链来建模。利用标准的HJB方程，我们得到了最优投资策略和福利调整政策的闭式解。此外，我们还提供了数值实例，展示了参数如何影响最优策略。具体来说，我们发现信念水平\\(\\)会影响福利支付比率。基金经理对成员劳动收入未来增长率的信心越大，成员将更可能分配更高的福利支付比率。 如果考虑人力资本，扩展我们的模型可能会很有趣。当引入人力资本时，基金经理的最优投资策略可能会随着协整水平的变化而发生变化。在长期内，劳动收入在协整关系稳固时表现出“股票特性”，这减少了基金经理投资于风险资产的兴趣。因此，我们需要更复杂的技术来获得平衡策略的显式表达式。此外，研究在常数相对风险厌恶（CRRA）效用函数下的最优问题将具有重要意义。CRRA模型考虑到个体在财富相对变化的情况下的风险偏好，而不是绝对财富量，这增加了显著的复杂性，并反映了经济决策中的更现实的情景。 "],["causal.html", "4 格兰格因果性 4.1 介绍 4.2 格兰格因果性的定义", " 4 格兰格因果性 4.1 介绍 考虑两个时间序列之间的因果性。 这里的因果性指的是时间顺序上的关系， 如果\\(X_{t-1}, X_{t-2}, \\dots\\)对\\(Y_t\\)有作用， 而\\(Y_{t-1}, Y_{t-2}, \\dots\\)对\\(X_t\\)没有作用， 则称\\(\\{X_t \\}\\)是\\(\\{ Y_t \\}\\)的格兰格原因， 而\\(\\{ Y_t \\}\\)不是\\(\\{ X_t \\}\\)的格兰格原因。 如果\\(X_{t-1}, X_{t-2}, \\dots\\)对\\(Y_t\\)有作用， \\(Y_{t-1}, Y_{t-2}, \\dots\\)对\\(X_t\\)也有作用， 则在没有进一步信息的情况下无法确定两个时间序列的因果性关系。 注意这种因果性与采样频率有关系， 在日数据或者月度数据中能发现的领先——滞后性质的因果关系， 到年度数据可能就以及混杂在以前变成同步的关系了。 4.2 格兰格因果性的定义 设\\(\\{ \\xi_t \\}\\)为一个时间序列， \\(\\{ \\boldsymbol{\\eta}_t \\}\\)为向量时间序列， 记 \\[\\begin{aligned} \\bar{\\boldsymbol{\\eta}}_t =&amp; \\{ \\boldsymbol{\\eta}_{t-1}, \\boldsymbol{\\eta}_{t-2}, \\dots \\} \\end{aligned}\\] 记 \\(\\text{Pred}(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t)\\)为基于 \\(\\boldsymbol{\\eta}_{t-1}, \\boldsymbol{\\eta}_{t-2}, \\dots\\) 对\\(\\xi_t\\)作的最小均方误差无偏预报， 其解为条件数学期望\\(E(\\xi_t | \\boldsymbol{\\eta}_{t-1}, \\boldsymbol{\\eta}_{t-2}, \\dots)\\)， 在一定条件下可以等于\\(\\xi_t\\)在\\(\\boldsymbol{\\eta}_{t-1}, \\boldsymbol{\\eta}_{t-2}, \\dots\\)张成的线性Hilbert空间的投影 （比如，\\((\\xi_t, \\boldsymbol{\\eta}_t)\\)为平稳正态多元时间序列）， 即最优线性预测。 直观理解成基于过去的\\(\\{\\boldsymbol{\\eta}_{t-1}, \\boldsymbol{\\eta}_{t-2}, \\dots \\}\\)的信息对当前的\\(\\xi_t\\)作的最优预测。 令一步预测误差为 \\[ \\varepsilon(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t) = \\xi_t - \\text{Pred}(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t) \\] 令一步预测误差方差，或者均方误差， 为 \\[ \\sigma^2(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t) = \\text{Var}(\\varepsilon_t(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t) ) = E \\left[ \\xi_t - \\text{Pred}(\\xi_t | \\bar{\\boldsymbol{\\eta}}_t) \\right]^2 \\] 考虑两个时间序列\\(\\{ X_t \\}\\)和\\(\\{ Y_t \\}\\)， \\(\\{(X_t, Y_t) \\}\\)宽平稳或严平稳。 如果 \\[ \\sigma^2(Y_t | \\bar Y_t, \\bar X_t) &lt; \\sigma^2(Y_t | \\bar Y_t) \\] 则称\\(\\{ X_t \\}\\)是\\(\\{ Y_t \\}\\)的格兰格原因， 记作\\(X_t \\Rightarrow Y_t\\)。 这不排除\\(\\{ Y_t \\}\\)也可以是\\(\\{ X_t \\}\\)的格兰格原因。 如果\\(X_t \\Rightarrow Y_t\\)，而且\\(Y_t \\Rightarrow X_t\\)， 则称互相有反馈关系， 记作\\(X_t \\Leftrightarrow Y_t\\)。 如果 \\[ \\sigma^2(Y_t | \\bar Y_t, X_t, \\bar X_t) &lt; \\sigma^2(Y_t | \\bar Y_t, \\bar X_t) \\] 即除了过去的信息， 增加同时刻的\\(X_t\\)信息后对\\(Y_t\\)预测有改进， 则称\\(\\{X_t \\}\\)对\\(\\{Y_t \\}\\)有瞬时因果性。 这时\\(\\{Y_t \\}\\)对\\(\\{X_t \\}\\)也有瞬时因果性。 如果\\(X_t \\Rightarrow Y_t\\)， 则存在最小的正整数\\(m\\)， 使得 \\[ \\sigma^2(Y_t | \\bar Y_t, X_{t-m}, X_{t-m-1}, \\dots) &lt; \\sigma^2(Y_t | \\bar Y_t, X_{t-m-1}, X_{t-m-2}, \\dots) \\] 称\\(m\\)为因果性滞后值(causality lag)。 如果\\(m&gt;1\\)， 这意味着在已有\\(Y_{t-1}, Y_{t-2}, \\dots\\)和\\(X_{t-m}, X_{t-m-1}, \\dots\\)的条件下， 增加\\(X_{t-1}\\), , \\(X_{t-m+1}\\)不能改进对\\(Y_t\\)的预测。 例4.1 设\\(\\{ \\varepsilon_t, \\eta_t \\}\\)是相互独立的零均值白噪声列， \\(\\text{Var}(\\varepsilon_t)=1\\), \\(\\text{Var}(\\eta_t)=1\\), 考虑 \\[\\begin{aligned} Y_t =&amp; X_{t-1} + \\varepsilon_t \\\\ X_t =&amp; \\eta_t + 0.5 \\eta_{t-1} \\end{aligned}\\] 用\\(L(\\cdot|\\cdot)\\)表示最优线性预测，则 \\[\\begin{aligned} &amp; L(Y_t | \\bar Y_t, \\bar X_t) \\\\ =&amp; L(X_{t-1} | X_{t-1}, \\dots, Y_{t-1}, \\dots) + L(\\varepsilon_t | \\bar Y_t, \\bar X_t) \\\\ =&amp; X_{t-1} + 0 \\\\ =&amp; X_{t-1} \\\\ \\sigma(Y_t | \\bar Y_t, \\bar X_t) =&amp; \\text{Var}(\\varepsilon_t) = 1 \\end{aligned}\\] 而 \\[ Y_t = \\eta_{t-1} + 0.5\\eta_{t-2} + \\varepsilon_t \\] 有 \\[\\begin{aligned} \\gamma_Y(0) = 2.25, \\gamma_Y(1) = 0.5, \\gamma_Y(k) = 0, k \\geq 2 \\end{aligned}\\] 所以\\(\\{Y_t \\}\\)是一个MA(1)序列， 设其方程为 \\[ Y_t = \\zeta_t + b \\zeta_{t-1}, \\zeta_t \\sim \\text{WN}(0, \\sigma_\\zeta^2) \\] 可以解出 \\[\\begin{aligned} \\rho_Y(1) =&amp; \\frac{\\gamma_Y(1)}{\\gamma_Y(0)} = \\frac{2}{9} \\\\ b =&amp; \\frac{1 - \\sqrt{1 - 4 \\rho_Y^2(1)}}{2 \\rho_Y(1)} \\approx 0.2344 \\\\ \\sigma_\\zeta^2 =&amp; \\frac{\\gamma_Y(1)}{b} \\approx 2.1328 \\end{aligned}\\] 于是 \\[\\begin{aligned} \\sigma(Y_t | \\bar Y_t) =&amp; \\sigma_\\zeta^2 = 2.1328 \\end{aligned}\\] 所以 \\[\\begin{aligned} \\sigma(Y_t | \\bar Y_t, \\bar X_t) = 1 &lt; 2.1328 = \\sigma(Y_t | \\bar Y_t) \\end{aligned}\\] 即\\(X_t\\)是\\(Y_t\\)的格兰格原因。 反之， \\(X_t\\)是MA(1)序列， 有 \\[ \\eta_t = \\frac{1}{1 + 0.5 B} X_t = \\sum_{j=0}^\\infty (-0.5)^j X_{t-j} \\] 其中\\(B\\)是推移算子（滞后算子）。 于是 \\[\\begin{aligned} L(X_t | \\bar X_t) =&amp; L(\\eta_t | \\bar X_t) + 0.5 L(\\eta_{t-1} | \\bar X_t) \\\\ =&amp; 0.5 \\sum_{j=0}^\\infty (-0.5)^j X_{t-1-j} \\\\ =&amp; - \\sum_{j=1}^\\infty (-0.5)^j X_{t-j} \\\\ \\sigma(X_t | \\bar X_t) =&amp; \\text{Var}(X_t - L(X_t | \\bar X_t)) \\\\ =&amp; \\text{Var}(\\eta_t) = 1 \\end{aligned}\\] 而 \\[\\begin{aligned} L(X_t | \\bar X_t, \\bar Y_t) =&amp; L(\\eta_t | \\bar X_t, \\bar Y_t) + 0.5 L(\\eta_{t-1} | \\bar X_t, \\bar Y_t) \\\\ =&amp; 0 + 0.5 L(\\sum_{j=0}^\\infty (-0.5)^j X_{t-1-j} | \\bar X_t, \\bar Y_t) \\\\ =&amp; -\\sum_{j=1}^\\infty (-0.5)^j X_{t-j} \\\\ =&amp; L(X_t | \\bar X_t) \\end{aligned}\\] 所以\\(Y_t\\)不是\\(X_t\\)的格兰格原因。 考虑瞬时因果性。 \\[\\begin{aligned} L(Y_t | \\bar X_t, \\bar Y_t, X_t) =&amp; X_{t-1} + 0 (\\text{注意}\\varepsilon_t\\text{与}\\{X_s, \\forall s\\}\\text{不相关} \\\\ =&amp; L(Y_t | \\bar X_t, \\bar Y_t) \\end{aligned}\\] 所以\\(X_t\\)不是\\(Y_t\\)的瞬时格兰格原因。 ○○○○○ 例4.2 在例4.1中，如果模型改成 \\[\\begin{aligned} Y_t =&amp; X_{t} + \\varepsilon_t \\\\ X_t =&amp; \\eta_t + 0.5 \\eta_{t-1} \\end{aligned}\\] 有怎样的结果？ 这时 \\[ Y_t = \\varepsilon_t + \\eta_t + 0.5 \\eta_{t-1} \\] 仍有 \\[\\begin{aligned} \\gamma_Y(0) = 2.25, \\gamma_Y(1) = 0.5, \\gamma_Y(k) = 0, k \\geq 2 \\end{aligned}\\] 所以\\(Y_t\\)还服从MA(1)模型 \\[ Y_t = \\zeta_t + b \\zeta_{t-1}, b \\approx 0.2344, \\sigma^2_\\zeta \\approx 2.1328 \\] \\[\\begin{aligned} L(Y_t | \\bar Y_t, \\bar X_t) =&amp; L(X_t | \\bar Y_t, \\bar X_t) + 0 \\\\ =&amp; L(\\eta_t | \\bar Y_t, \\bar X_t) + 0.5 L(\\eta_{t-1} | \\bar Y_t, \\bar X_t) \\\\ =&amp; 0 + 0.5 L(\\sum_{j=0}^\\infty (-0.5)^j X_{t-1-j} | \\bar Y_t, \\bar X_t) \\\\ =&amp; - \\sum_{j=1}^\\infty (-0.5)^j X_{t-j} \\\\ =&amp; X_t - \\eta_t \\\\ \\sigma(Y_t | \\bar Y_t, \\bar X_t) =&amp; \\text{Var}(\\varepsilon_t + \\eta_t) = 2 \\end{aligned}\\] 而 \\[ \\sigma(Y_t | \\bar Y_t) = \\sigma^2_\\zeta \\approx 2.1328 &gt; \\sigma(Y_t | \\bar Y_t, \\bar X_t) = 2 \\] 所以\\(X_t\\)是\\(Y_t\\)的格兰格原因。 反之， \\[\\begin{aligned} L(X_t | \\bar X_t, \\bar Y_t) =&amp; - \\sum_{j=1}^\\infty (-0.5)^j X_{t-j} \\\\ =&amp; L(X_t | \\bar X_t) \\end{aligned}\\] 所以\\(Y_t\\)不是\\(X_t\\)的格兰格原因。 考虑瞬时因果性。 \\[\\begin{aligned} L(Y_t | \\bar X_t, \\bar Y_t, X_t) =&amp; X_{t} + 0 (\\text{注意}\\varepsilon_t\\text{与}\\{X_s, \\forall s\\}\\text{不相关} \\\\ =&amp; X_t \\\\ \\sigma(Y_t | \\bar X_t, \\bar Y_t, X_t) =&amp; \\text{Var}(\\varepsilon) \\\\ =&amp; 1 &lt; 2 = \\sigma(Y_t | \\bar X_t, \\bar Y_t) \\end{aligned}\\] 所以\\(X_t\\)是\\(Y_t\\)的瞬时格兰格原因。 \\[\\begin{aligned} [aaa] \\end{aligned}\\] "],["usage.html", "5 中文图书Bookdown模板的基本用法 5.1 安装设置 5.2 编写自己的内容 5.3 转换", " 5 中文图书Bookdown模板的基本用法 5.1 安装设置 使用RStudio软件完成编辑和转换功能。 在RStudio中，安装bookdown等必要的扩展包。 本模板在安装之前是一个打包的zip文件， 在适当位置解压（例如，在C:/myproj下）， 得到MathJax, Books/Cbook, Books/Carticle等子目录。 本模板在Books/Cbook中。 为了利用模板制作自己的中文书， 将Books/Cbook制作一个副本， 改成适当的子目录名，如Books/Mybook。 打开RStudio软件， 选选单“File - New Project - Existing Directory”， 选中Books/Mybook子目录，确定。 这样生成一本书对应的R project（项目）。 为了将模板内容替换成自己的内容， 可以删除文件0101-usage.Rmd， 然后将1001-chapter01.Rmd制作几份副本， 如1001-chapter01.Rmd, 2012-chapter02.Rmd， 3012-chapter03.Rmd。 各章的次序将按照前面的数值的次序排列。 将每个.Rmd文件内的{#chapter01}, {#chapter02-sec01}修改能够反映章节内容的标签文本。 所有的标签都不允许重复。 参见本模板中的0101-usage.Rmd文件。 后面的§5.3.1 和§5.3.2 给出了将当前的书转换为网页和PDF的命令， 复制粘贴这些命令到RStudio命令行可以进行转换。 5.2 编写自己的内容 5.2.1 文档结构 除了index.Rmd以外， 每个.Rmd文件是书的一章。 每章的第一行是用一个井号（#）引入的章标题。 节标题用两个井号开始， 小节标题用三个井号开始。 标题后面都有大括号内以井号开头的标签， 标签仅用英文大小写字母和减号。 5.2.2 图形自动编号 用R代码段生成的图形， 只要具有代码段标签， 且提供代码段选项fig.cap=\"图形的说明文字\"， 就可以对图形自动编号， 并且可以用如\\@ref(fig:label)的格式引用图形。 如： plot(1:10, main=&quot;程序生成的测试图形&quot;) 图5.1: 图形说明文字 引用如：参见图5.1。 引用中的fig:是必须的。 在通过LaTeX转换的PDF结果中， 这样图形是浮动的。 5.2.3 表格自动编号 用R代码knitr::kable()生成的表格， 只要具有代码段标签， 并且在knitr::kable()调用时加选项caption=\"表格的说明文字\"， 就可以对表格自动编号， 并且可以用如\\@ref(tab:label)的格式引用表格。 如： d &lt;- data.frame(&quot;自变量&quot;=1:10, &quot;因变量&quot;=(1:10)^2) knitr::kable(d, caption=&quot;表格说明文字&quot;) 表5.1: 表格说明文字 自变量 因变量 1 1 2 4 3 9 4 16 5 25 6 36 7 49 8 64 9 81 10 100 引用如：参见表5.1。 引用中的tab:是必须的。 在通过LaTeX转换的PDF结果中， 这样的表格是浮动的。 5.2.4 数学公式编号 不需要编号的公式， 仍可以按照一般的Rmd文件中公式的做法。 需要编号的公式， 直接写在\\begin{align}和\\end{align}之间， 不需要编号的行在末尾用\\nonumber标注。 需要编号的行用(\\#eq:mylabel)添加自定义标签， 如 \\[\\begin{align} \\Sigma =&amp; (\\sigma_{ij})_{n\\times n} \\nonumber \\\\ =&amp; E[(\\boldsymbol{X} - \\boldsymbol{\\mu}) (\\boldsymbol{X} - \\boldsymbol{\\mu})^T ] \\tag{5.1} \\end{align}\\] 引用如：协方差定义见(5.1)。 5.2.5 文献引用与文献列表 将所有文献用bib格式保存为一个.bib文献库， 如模板中的样例文件mybib.bib。 可以用JabRef软件来管理这样的文献库， 许多其它软件都可以输出这样格式的文件库。 为了引用某一本书， 用如：参见(Wichmann and Hill 1982)。 被引用的文献将出现在一章末尾以及全书的末尾， 对PDF输出则仅出现在全书末尾。 5.3 转换 5.3.1 转换为网页 用如下命令将整本书转换成一个每章为一个页面的网站， 称为gitbook格式： bookdown::render_book(&quot;index.Rmd&quot;, output_format=&quot;bookdown::gitbook&quot;, encoding=&quot;UTF-8&quot;) 为查看结果， 在_book子目录中双击其中的index.html文件， 就可以在网络浏览器中查看转换的结果。 重新编译后应该点击“刷新”图标。 在章节和内容较多时， 通常不希望每次小修改之后重新编译整本书， 这时类似如下的命令可以仅编译一章， 可以节省时间， 缺点是导航目录会变得不准确。 命令如： bookdown::preview_chapter(&quot;1001-chapter01.Rmd&quot;, output_format=&quot;bookdown::gitbook&quot;, encoding=&quot;UTF-8&quot;) 单章的网页可以通过网络浏览器中的“打印”功能， 选择一个打印到PDF的打印机， 可以将单章转换成PDF格式。 5.3.2 生成PDF 如果想将R Markdown文件借助于LaTeX格式转换为PDF， 需要在系统中安装一个TeX编译器。 现在的rmarkdown包要求使用tinytex扩展包以及配套的TinyTeX软件包， 好像不再支持使用本机原有的LaTex编译系统， 如果不安装tinytex，编译为PDF格式时会出错。 TinyTeX优点是直接用R命令就可以安装， 更新也由R自动进行，不需要用户干预。 但是，安装时需要从国外网站下载许多文件， 有因为网络不畅通而安装失败的危险。 为了安装R的tinytex扩展包和单独的TinyTeX编译软件，应运行： install.packages(&#39;tinytex&#39;) tinytex::install_tinytex() 安装过程需要从国外的服务器下载许多文件， 在国内的网络环境下有可能因为网络超时而失败。 如果安装成功， TinyTeX软件包在MS Windows系统中一般会安装在 C:\\Users\\用户名\\AppData\\Roaming\\MikTex目录中， 其中“用户名”应替换成系统当前用户名。 如果需要删除TinyTeX软件包， 只要直接删除那个子目录就可以。 为了判断TinyTeX是否安装成功， 在RStudio中运行 tinytex::is_tinytex() 结果应为TRUE, 出错或者结果为FALSE都说明安装不成功。 在编译pdf_book时，可能会需要联网下载LaTeX所需的格式文件。 Bookdown借助操作系统中安装的LaTeX编译软件TinyTeX将整本书转换成一个PDF文件， 这需要用户对LaTeX有一定的了解， 否则一旦出错， 就完全不知道如何解决。 用户如果需要进行LaTeX定制， 可修改模板中的preamble.tex文件。 转换为PDF的命令如下： bookdown::render_book(&quot;index.Rmd&quot;, output_format=&quot;bookdown::pdf_book&quot;, encoding=&quot;UTF-8&quot;) 在_book子目录中找到CBook.pdf文件， 这是转换的结果。 CBook.tex是作为中间结果的LaTeX文件， 如果出错可以从这里查找错误原因。 转换PDF对于内容多的书比较耗时， 不要过于频繁地转换PDF， 在修改书的内容时， 多用bookdown::preview_chapter和转换为gitbook的办法检验结果。 定期地进行转换PDF的测试。 每增加一章后都应该试着转换成PDF看有没有错误。 5.3.3 上传到网站 如果书里面没有数学公式， 则上传到网站就只要将_book子目录整个地用ftp软件传送到自己的网站主目录下的某个子目录即可。 但是，为了支持数学公式，就需要进行如下的目录结构设置： 设自己的网站服务器目录为/home/abc， 将MathJax目录上传到这个目录中。 在/home/abc中建立新目录Books/Mybook。 将_book子目录上传到/home/abc/Books/Mybook中。 这时网站链接可能类似于http://dept.univ.edu.cn/~abc/Books/Mybook/_book/index.html, 具体链接地址依赖于服务器名称与主页所在的主目录名称。 如果有多本书， MathJax仅需要上传一次。 因为MathJax有三万多个文件， 所以上传MathJax会花费很长时间。 References Wichmann, B. A., and I. D. Hill. 1982. “Algorithm as 183: An Efficient and Portable Pseudo-Random Number Generator.” Applied Statistics 31: 188–190. Remarks: 34, 198 and 35, 89. "],["references.html", "References", " References Wichmann, B. A., and I. D. Hill. 1982. “Algorithm as 183: An Efficient and Portable Pseudo-Random Number Generator.” Applied Statistics 31: 188–190. Remarks: 34, 198 and 35, 89. "]]
